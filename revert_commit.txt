Reverting commit eb491210b42eb336df406b8db53e336e9f596504 due to functionality issues.