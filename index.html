<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Mentoria Ferraretto - P√°gina Inicial</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-storage-compat.js"></script>
  <style>
    body {
      background: linear-gradient(to right, #f0f4f8, #e2e8f0);
      font-family: 'Segoe UI', sans-serif;
    }
    .card {
      @apply bg-white p-6 rounded-xl shadow-lg transition hover:shadow-2xl hover:-translate-y-1;
    }
    .modal { display: none; position: fixed; z-index: 100; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); }
    .modal-content { background-color: #fff; margin: 5% auto; padding: 25px; border-radius: 12px; width: 90%; max-width: 700px; max-height: 90vh; overflow-y: auto; box-shadow: 0 10px 25px rgba(0,0,0,0.2); }
    .btn-close { float: right; font-size: 24px; font-weight: bold; cursor: pointer; color: #777; }
    .btn-close:hover { color: #333; }
  </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-10">
  <nav class="bg-gray-800 text-white p-4 flex flex-wrap items-center space-x-4 mb-8 rounded">
    <a href="index.html" class="hover:underline">In√≠cio</a>
     <a href="Sistema%20de%20Precifica√ß√£o%20COM%20IMPORTA√á√ÉO%20DE%20PLANILHA%20DE%20PROMO√á√ïES%20SHOPEE.html" onclick="return requireLogin(event)" class="hover:underline">Precifica√ß√£o</a>
    <a href="Gerenciamento%20de%20ANUNCIOS%20E%20DESEMPENHO.html" onclick="return requireLogin(event)" class="hover:underline">An√∫ncios</a>
    <a href="CONTROLE%20DE%20SOBRAS%20SHOPEE.html" onclick="return requireLogin(event)" class="hover:underline">Sobras</a>
    <a href="SISTEMA%20DE%20CUSTEIO%20DE%20PRODU√á√ÉO%20E%20PRODUTOS.html" onclick="return requireLogin(event)" class="hover:underline">Custeio</a>
    <a href="Sistema%20de%20Precifica√ß√£o%20COM%20IMPORTA√á√ÉO%20DE%20PLANILHA%20DE%20PROMO√á√ïES%20SHOPEE.html?login=1" class="hover:underline">Login</a>
    <div class="flex items-center space-x-2 ml-auto">
      <span id="currentUser" class="hidden"></span>
      <button id="loginBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded"><i class="fas fa-sign-in-alt mr-1"></i>Login</button>
      <button id="logoutBtn" class="bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded hidden"><i class="fas fa-sign-out-alt mr-1"></i>Sair</button>
    </div>
  </nav>
  <h1 class="text-4xl font-bold text-center text-gray-800 mb-8">üöÄ Mentoria Ferraretto - Sistemas</h1>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl w-full">

    <div class="card">
      <h2 class="text-2xl font-semibold mb-2">üìä Sistema de Precifica√ß√£o Shopee</h2>
      <p class="text-gray-600 mb-4">Calculadora de pre√ßos com importa√ß√£o de planilhas de promo√ß√µes da Shopee.</p>
      <a href="./Sistema%20de%20Precifica√ß√£o%20COM%20IMPORTA√á√ÉO%20DE%20PLANILHA%20DE%20PROMO√á√ïES%20SHOPEE.html" onclick="return requireLogin(event)" target="_blank" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition">Acessar Sistema</a>
    </div>

    <div class="card">
      <h2 class="text-2xl font-semibold mb-2">üóÇÔ∏è Gerenciamento de An√∫ncios e Desempenho</h2>
      <p class="text-gray-600 mb-4">Sistema para gerenciar produtos, importar dados e analisar desempenho com IA.</p>
           <a href="./Gerenciamento%20de%20ANUNCIOS%20E%20DESEMPENHO.html" onclick="return requireLogin(event)" target="_blank" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">Acessar Sistema</a>

    </div>

    <div class="card">
      <h2 class="text-2xl font-semibold mb-2">üì¶ Controle de Sobras Shopee</h2>
      <p class="text-gray-600 mb-4">Importe relat√≥rios da Shopee e controle sobras com gr√°ficos e metas por SKU.</p>
     <a href="./CONTROLE%20DE%20SOBRAS%20SHOPEE.html" onclick="return requireLogin(event)" target="_blank" class="bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 transition">Acessar Sistema</a>
    </div>

    <div class="card">
      <h2 class="text-2xl font-semibold mb-2">üõ†Ô∏è Custeio de Produ√ß√£o</h2>
      <p class="text-gray-600 mb-4">Simule e calcule custos de produ√ß√£o por pe√ßa, incluindo MDF, m√£o de obra e indiretos.</p>
      <a href="./SISTEMA%20DE%20CUSTEIO%20DE%20PRODU√á√ÉO%20E%20PRODUTOS.html" onclick="return requireLogin(event)" target="_blank" class="bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700 transition">Acessar Sistema</a>
    </div>
    </div>

<!-- Modais de Login -->
  <div id="loginModal" class="modal">
    <div class="modal-content" style="max-width: 400px;">
      <span class="btn-close" onclick="closeModal('loginModal')">&times;</span>
      <h3 class="text-xl font-bold mb-4">Acesso ao Sistema</h3>
      <div class="space-y-4">
        <div>
          <label class="block text-sm font-medium mb-1">E-mail</label>
          <input type="email" id="loginEmail" class="w-full p-2 border rounded">
        </div>
        <div>
          <label class="block text-sm font-medium mb-1">Senha</label>
          <input type="password" id="loginPassword" class="w-full p-2 border rounded">
        </div>
        <button onclick="login()" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded">
          <i class="fas fa-sign-in-alt mr-2"></i> Entrar
        </button>
        <div class="text-center">
          <a href="#recover" onclick="openRecoverModal()" class="text-sm text-blue-600">Esqueci minha senha</a>
        </div>
      </div>
    </div>
  </div>

  <div id="recoverModal" class="modal">
    <div class="modal-content" style="max-width: 400px;">
      <span class="btn-close" onclick="closeModal('recoverModal')">&times;</span>
      <h3 class="text-xl font-bold mb-4">Recuperar Senha</h3>
      <div class="space-y-4">
        <div>
          <label class="block text-sm font-medium mb-1">E-mail cadastrado</label>
          <input type="email" id="recoverEmail" class="w-full p-2 border rounded">
        </div>
        <button onclick="sendRecovery()" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded">
          Enviar Link de Recupera√ß√£o
        </button>
      </div>
    </div>
  </div>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyC78l9b2DTNj64y_0fbRKofNupO6NHDmeo",
      authDomain: "matheus-35023.firebaseapp.com",
      projectId: "matheus-35023",
      storageBucket: "matheus-35023.appspot.com",
      messagingSenderId: "1011113149395",
      appId: "1:1011113149395:web:c1f449e0e974ca8ecb2526"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    function openModal(id) { document.getElementById(id).style.display = 'block'; }
    function closeModal(id) { document.getElementById(id).style.display = 'none'; }
    function openRecoverModal() { closeModal('loginModal'); openModal('recoverModal'); }

    function login() {
      const email = document.getElementById('loginEmail').value;
      const password = document.getElementById('loginPassword').value;
      auth.signInWithEmailAndPassword(email, password)
        .then((cred) => {
          showUserArea(cred.user);
          closeModal('loginModal');
        })
        .catch(err => alert('Credenciais inv√°lidas! ' + err.message));
    }

    function logout() {
      auth.signOut().then(hideUserArea);
    }

    function sendRecovery() {
      const email = document.getElementById('recoverEmail').value;
      if (!email.includes('@')) { alert('E-mail inv√°lido!'); return; }
      auth.sendPasswordResetEmail(email)
        .then(() => { alert('E-mail de recupera√ß√£o enviado!'); closeModal('recoverModal'); })
        .catch(err => alert('Erro ao enviar recupera√ß√£o: ' + err.message));
    }

    function showUserArea(user) {
      document.getElementById('currentUser').textContent = user.email;
      document.getElementById('currentUser').classList.remove('hidden');
      document.getElementById('loginBtn').classList.add('hidden');
      document.getElementById('logoutBtn').classList.remove('hidden');
    }

    function hideUserArea() {
      document.getElementById('currentUser').textContent = '';
      document.getElementById('currentUser').classList.add('hidden');
      document.getElementById('loginBtn').classList.remove('hidden');
      document.getElementById('logoutBtn').classList.add('hidden');
    }
function requireLogin(event) {
      if (!auth.currentUser) {
        event.preventDefault();
        openModal('loginModal');
        return false;
      }
      return true;
    }
    function checkLogin() {
      auth.onAuthStateChanged(user => {
        if (user) { showUserArea(user); } else { hideUserArea(); }
      });
    }

    document.getElementById('loginBtn').addEventListener('click', () => openModal('loginModal'));
    document.getElementById('logoutBtn').addEventListener('click', logout);
    checkLogin();
  </script>
</body>
</html>
